<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ミューコミVR VTuber楽曲ランキング投票ページ</title>
  <style>
    body {
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      background-color: #f8f8f8;
    }

    .container {
      width: 80%;
      max-width: 600px;
      background: white;
      border: 2px solid gray;
      padding: 20px;
      text-align: left;
    }

    .title {
      text-align: center;
      font-size: x-large;
      font-weight: bold;
      margin-bottom: 10px;
    }

    textarea {
      width: 100%;
      font-size: large;
      margin-top: 10px;
    }

    button {
      font-size: large;
      background: whitesmoke;
      border: 1px solid gray;
      padding: 5px 15px;
      color: black;
      margin-top: 10px;
    }
  </style>
  <script>
    function updateCheckboxes() {
      let checkedBoxes = document.querySelectorAll('input[name="song"]:checked');
      let allCheckboxes = document.querySelectorAll('input[name="song"]');
      
      if (checkedBoxes.length >= 1) {
        allCheckboxes.forEach(box => {
          if (!box.checked) {
            box.disabled = true;
          }
        });
      } else {
        allCheckboxes.forEach(box => {
          box.disabled = false;
        });
      }
      
      generateText();
    }

    function generateText() {
      let checkedSongs = [];
      document.querySelectorAll('input[name="song"]:checked').forEach((el) => {
        checkedSongs.push(`(${el.dataset.artist})の『${el.dataset.title}』`);
      });

      document.getElementById("message").value = checkedSongs.join("、") + "に投票します！\n#ミューコミVR #VTuber楽曲ランキング";
    }

    function vote() {
      let message = encodeURIComponent(document.getElementById("message").value.trim());
      window.open("https://x.com/intent/tweet?text=" + message);
    }

    function copy() {
      let message = encodeURIComponent(document.getElementById("message").value.trim());
      window.open("https://x.com/messages/compose?recipient_id=100786821&text=" + message);
    }
  </script>
</head>

<body>
  <div class="container">
    <div class="title">ミューコミVR VTuber楽曲ランキング投票ページ</div>
    <table>
      <tr>
        <td><input type="checkbox" name="song" data-artist="常勝無敗ぐぬぬ" data-title="恩反し" onchange="updateCheckboxes()"> (常勝無敗ぐぬぬ)『恩反し』</td>
      </tr>
      <tr>
        <td><input type="checkbox" name="song" data-artist="常勝無敗ぐぬぬ" data-title="黙ってらんない" onchange="updateCheckboxes()"> (常勝無敗ぐぬぬ)『黙ってらんない』</td>
      </tr>
      <tr>
        <td><input type="checkbox" name="song" data-artist="甘葛すもあ" data-title="ショコラ・ザ・バス" onchange="updateCheckboxes()"> (甘葛すもあ)『ショコラ・ザ・バス』</td>
      </tr>
      <tr>
        <td><input type="checkbox" name="song" data-artist="甘葛すもあ" data-title="Carol" onchange="updateCheckboxes()"> (甘葛すもあ)『Carol』</td>
      </tr>
      <tr>
        <td><input type="checkbox" name="song" data-artist="甘葛すもあ" data-title="NOCTURNE" onchange="updateCheckboxes()"> (甘葛すもあ)『NOCTURNE』</td>
      </tr>
      <tr>
        <td><input type="checkbox" name="song" data-artist="カカ・エツボニール" data-title="えいえいWOWイェイOh" onchange="updateCheckboxes()"> (カカ・エツボニール)『えいえいWOWイェイOh』</td>
      </tr>
      <tr>
        <td><input type="checkbox" name="song" data-artist="カカ・エツボニール" data-title="SPACEOUT" onchange="updateCheckboxes()"> (カカ・エツボニール)『SPACEOUT』</td>
      </tr>
      <tr>
        <td><input type="checkbox" name="song" data-artist="カカ・エツボニール" data-title="TENTEKOMAI" onchange="updateCheckboxes()"> (カカ・エツボニール)『TENTEKOMAI』</td>
      </tr>
      <tr>
        <td><input type="checkbox" name="song" data-artist="コインランドリースカッド" data-title="しるぶぷる～ぷ" onchange="updateCheckboxes()"> (コインランドリースカッド)『しるぶぷる～ぷ』</td>
      </tr>
      <tr>
        <td><input type="checkbox" name="song" data-artist="迷電ワークス" data-title="キミの気持ちが知りたいの" onchange="generateText()"> (迷電ワークス)『キミの気持ちが知りたいの』</td>
      </tr>

    </table>

    <textarea id="message" rows="5" cols="40" readonly></textarea>

    <div>
      <button onclick="vote()">Xにポスト</button>
      <button onclick="copy()">DM送信</button>　※要ミューコミVRのアカウントフォロー
    </div>
  </div>
</body>

</html>
